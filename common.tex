% Copyright 2014-2021 Joakim Nilsson
%
% This file is part of Combo Whist.
%
% Combo Whist is free software: you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation, either version 3 of the License, or
% (at your option) any later version.
%
% Combo Whist is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.
%
% You should have received a copy of the GNU General Public License
% along with Combo Whist.  If not, see <http://www.gnu.org/licenses/>.

%==========
% Packages
%==========

\usepackage[utf8]{inputenc}             % UTF-8 character encoding
\usepackage{booktabs}                   % Better-looking tabulars
\usepackage{tabularx}                   % X column specifier in tabulars
\usepackage{graphicx}                   % \rotatebox
\usepackage[protrusion=true]{microtype} % More readable layout
\usepackage[pass]{geometry}             % Changing margins
\usepackage{verbatim}                   % Monospaced text
\usepackage[inkscapepath=tmp]{svg}      % .svg images

% Link and URL colors
\usepackage[
	ocgcolorlinks = true,
	urlcolor      = {[rgb]{0,0,1}},
	linkcolor     = {[rgb]{0.4,0,0}},
]{hyperref}

% Number alignment in tables
\usepackage{siunitx}
\sisetup{
	table-format           = 1.0,
	table-number-alignment = center,
}

%======================================
% Include makefile generated variables
%======================================

\input{tmp/vars.tex}

%===================
% Include Lua files
%===================

\directlua{dofile('../../common.lua')}

%==========
% Commands
%==========

% Define title text
\newcommand{\defTitle}[2]{%
	\title{
		\rule{\textwidth}{0.4mm}
		\Huge \textsc{#1} \\[1.5ex]
		\Large \textsc{#2} \\
		\rule{\textwidth}{0.4mm}
	}
}

% Define link text
\newcommand{\defLinks}[1]{%
	\def\makeLinks{%
		\noindent
		\fbox{%
			\parbox{\textwidth}{%
				#1
			}%
		}%
	}%
}

% Full section reference
\newcommand{\sectionref}[1]{%
	\ref{sec:#1}---\nameref{sec:#1}%
}

% URL to the rules
\newcommand{\rulesUrl}{%
	\href{http://nijoakim.com/combo-whist}{http://nijoakim.com/combo-whist}%
}

% URL to the RSS feed
\newcommand{\rssUrl}{%
	\href{http://nijoakim.com/news.rss}{http://nijoakim.com/news.rss}%
}

% Rotate text 90 degrees
\newcommand{\rotccw}[1]{%
	\rotatebox{75}{{#1}}
}

\newcommand{\introPages}{%
	% Title
	\maketitle

	\vfill

	% Logo
	\begin{center}
		\includesvg[width=0.9\textwidth]{../../logo.svg}
	\end{center}

	\vfill
	\vfill

	% Links
	\makeLinks

	% Style, then new page
	\thispagestyle{empty}
	\pagebreak

	% Table of contents without protrusion
	\microtypesetup{protrusion=false}
		\setcounter{tocdepth}{3}
		\tableofcontents
	\microtypesetup{protrusion=true}
	\vfill

	% License
	\input{../../license.tex}

	\thispagestyle{empty}
}
